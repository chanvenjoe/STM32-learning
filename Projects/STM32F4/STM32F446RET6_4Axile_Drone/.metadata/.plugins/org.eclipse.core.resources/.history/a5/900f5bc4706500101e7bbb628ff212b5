#include "FreeRTOS_test_funcs.h"
#include "main.h"
#include "tim.h"
#include "FreeRTOS.h"
#include "WS2811.h"
void LED_Test(void)
{
	while(1)
	{
		static char state = 0;
		state  = ~state;
//		HAL_GPIO_WritePin(LED_IND_GPIO_Port,LED_IND_Pin , state);
		osDelay(1000);
	}
}

void Win1_Test(void)
{

}

void Win2_Test(void)
{

}

void Win3_Test(void)
{

}

void Win4_Test(void)
{
	while(1)
	{
		static char state = 0;
		state  = ~state;
		if(state)
			__HAL_TIM_SET_COMPARE(&htim3, TIM_CHANNEL_2, 0);
		else
			__HAL_TIM_SET_COMPARE(&htim3, TIM_CHANNEL_2, 10);
//		osDelay(3000);
		vTaskDelay(3000);
//		vTaskSuspend(g_TCBofWinTask);
//		vTaskResume(); Recover to the state before suspend
	}
}

void WS2812_Test(void)
{
	  for(;;){
		CODE_1;CODE_1;CODE_1;CODE_1;	CODE_1;CODE_1;CODE_1;CODE_1;	CODE_0;CODE_0;CODE_0;CODE_0;	CODE_0;CODE_0;CODE_0;CODE_0;	CODE_1;CODE_1;CODE_1;CODE_1;	CODE_1;CODE_1;CODE_1;CODE_1;
		CODE_1;CODE_1;CODE_1;CODE_1;	CODE_1;CODE_1;CODE_1;CODE_1;	CODE_1;CODE_1;CODE_1;CODE_1;	CODE_1;CODE_1;CODE_1;CODE_1;	CODE_1;CODE_1;CODE_1;CODE_1;	CODE_1;CODE_1;CODE_1;CODE_1;
		RES
//		vTaskDelay(1);
//	  HAL_GPIO_WritePin(WS_LED_PORT,WS_LED_Pin , GPIO_PIN_SET);//this command takes 180ms, try register

	  /*HAL_GPIO_WritePin(WS_LED_PORT,WS_LED_Pin , GPIO_PIN_SET);
	  (&htim14)->Instance->CNT = 0;
	  while ((&htim14)->Instance->CNT < 2);
	  HAL_GPIO_WritePin(WS_LED_PORT,WS_LED_Pin , GPIO_PIN_RESET);*/
	  vTaskDelay(1);
	}
}
